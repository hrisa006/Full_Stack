{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hrist\\\\OneDrive - MG Geo Milev - Pleven\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0438\\\\Uni Thingies\\\\\\u041A\\u0443\\u0440\\u0441 2\\\\Full-stack - S4\\\\Git\\\\course-node-express-react\\\\fmi-2024-06-todos-ts\\\\src\\\\App.tsx\";\nimport React from 'react';\nimport './App.css';\nimport { Todo } from './todo-model';\nimport TodoList from './TodoList';\nimport TodoInput from './TodoInput';\nimport API from './todo-api-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todos: [],\n      errors: ''\n    };\n    this.createTodo = async todo => {\n      try {\n        const created = await API.create(Todo, todo);\n        this.setState(state => ({\n          todos: [...state.todos, created]\n        }));\n        this.clearErrors();\n      } catch (err) {\n        this.showError(err);\n      }\n    };\n    this.deleteTodo = async todo => {\n      try {\n        const deleted = await API.deleteById(Todo, todo.id);\n        this.setState(state => ({\n          todos: state.todos.filter(td => td.id !== deleted.id)\n        }));\n        this.clearErrors();\n      } catch (err) {\n        this.showError(err);\n      }\n    };\n    this.showError = error => {\n      this.setState({\n        errors: error.message\n      });\n    };\n    this.clearErrors = () => {\n      this.setState({\n        errors: ''\n      });\n    };\n  }\n  async componentDidMount() {\n    try {\n      const todos = await API.findAll(Todo);\n      this.setState({\n        todos\n      });\n    } catch (err) {\n      this.showError(err);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-flex flex-column justify-content-between text-black bg-light\",\n      children: [/*#__PURE__*/_jsxDEV(TodoInput, {\n        onCreateTodo: this.createTodo,\n        onError: this.showError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), this.state.errors && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: [\"Error: \", this.state.errors]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n        todos: this.state.todos,\n        onDelete: this.deleteTodo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Todo","TodoList","TodoInput","API","jsxDEV","_jsxDEV","App","Component","constructor","args","state","todos","errors","createTodo","todo","created","create","setState","clearErrors","err","showError","deleteTodo","deleted","deleteById","id","filter","td","error","message","componentDidMount","findAll","render","className","children","onCreateTodo","onError","fileName","_jsxFileName","lineNumber","columnNumber","onDelete"],"sources":["C:/Users/hrist/OneDrive - MG Geo Milev - Pleven/Документи/Uni Thingies/Курс 2/Full-stack - S4/Git/course-node-express-react/fmi-2024-06-todos-ts/src/App.tsx"],"sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport { Todo, TodoCreateDto } from './todo-model';\r\nimport TodoList from './TodoList';\r\nimport TodoRepository from './todo-repository';\r\nimport TodoInput from './TodoInput';\r\nimport API from './todo-api-client';\r\n\r\ninterface AppState {\r\n  todos: Todo[];\r\n  errors: string;\r\n}\r\n\r\nclass App extends React.Component<{}, AppState> {\r\n  state: AppState = {\r\n    todos: [],\r\n    errors: ''\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const todos = await API.findAll(Todo);\r\n      this.setState({ todos });\r\n\r\n    } catch (err) {\r\n      this.showError(err as Error);\r\n    }\r\n  }\r\n\r\n  createTodo = async (todo: TodoCreateDto) => {\r\n    try {\r\n      const created = await API.create(Todo, todo);\r\n      this.setState(state => ({ todos: [...state.todos, created] }))\r\n      this.clearErrors();\r\n    } catch (err) {\r\n      this.showError(err as Error);\r\n    }\r\n  }\r\n\r\n  deleteTodo = async (todo: Todo) => {\r\n    try {\r\n      const deleted = await API.deleteById(Todo, todo.id);\r\n      this.setState(state => ({ todos: state.todos.filter(td => td.id !== deleted.id) }))\r\n      this.clearErrors();\r\n    } catch (err) {\r\n      this.showError(err as Error);\r\n    }\r\n  }\r\n\r\n  showError = (error: Error) => {\r\n    this.setState({ errors: error.message })\r\n  }\r\n\r\n  clearErrors = () => {\r\n    this.setState({ errors: '' })\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className='container d-flex flex-column justify-content-between text-black bg-light'>\r\n        <TodoInput onCreateTodo={this.createTodo} onError={this.showError} />\r\n        {this.state.errors && <div className='errors'>Error: {this.state.errors}</div>}\r\n        <hr />\r\n        <TodoList todos={this.state.todos} onDelete={this.deleteTodo}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}